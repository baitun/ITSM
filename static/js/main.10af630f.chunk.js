(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){},128:function(e){e.exports=[{key:"1",locality:"Irkutsk",system:"611",description:"Billing doesn't work in Irkutsk from 6 am"},{key:"2",locality:"Rostov-on-Don",system:"611",description:"There is something wrong with CRM sytem"},{key:"3",locality:"Saransk",system:"611",description:"All users have a problem with mail"},{key:"4",locality:"Chelyabinsk",system:"611",description:"Internet connection lost"}]},165:function(e,t,n){e.exports=n(329)},170:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(9),l=n.n(o),i=(n(170),n(38)),c=n(39),s=n(41),d=n(40),u=n(42),m=n(334),p=(n(115),n(337)),f=[{dataIndex:"locality",title:"\u0420\u0435\u0433\u0438\u043e\u043d",visible:!0,required:!0,sorter:function(e,t){return(""+e.locality).localeCompare(t.locality)},onFilter:function(e,t){return 0===t.locality.indexOf(e)},formComponent:r.a.createElement(p.a,null)},{dataIndex:"system",title:"IVR",visible:!0,required:!1,sorter:function(e,t){return e.system>t.system},formComponent:r.a.createElement(p.a,null)},{dataIndex:"description",title:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0432\u0443\u043a\u0430",visible:!1,required:!1,formComponent:r.a.createElement(p.a.TextArea,{autosize:{minRows:2}})}],h=f.filter(function(e){return e.visible}),b=n(128),v=function(e){return f.filter(function(e){return!e.visible}).map(function(t){return r.a.createElement("div",{key:t.dataIndex},r.a.createElement("b",null,t.title,":")," ",e[t.dataIndex])})},E=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(m.a,{columns:h,dataSource:b,expandedRowRender:v,pagination:!1,size:"middle",rowClassName:function(e,t){return e.isopen?"ticket-opened":"ticket-closed"}})}}]),t}(r.a.Component),y=n(163),k=n(24),O=n(332),g=n(335),x=n(336),I=n(59),w=n.n(I),C=g.a.create()(function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){console.log("Render ModalForm, record =",this.props.record);var e=this.props,t=e.visible,n=e.onCancel,a=e.onOk,o=e.form,l=e.record,i=o.getFieldDecorator,c={labelCol:{span:6},wrapperCol:{span:18}},s=f.map(function(e){var t=null;return l&&(t="bdate"!==e.dataIndex&&"edate"!==e.dataIndex||!w()(l[e.dataIndex]).isValid()?l[e.dataIndex]:w()(l[e.dataIndex])),r.a.createElement(g.a.Item,Object.assign({},c,{label:e.title,key:e.dataIndex}),i(e.dataIndex,{rules:[{required:e.required,message:"Please Input ".concat(e.title,"!")}],valuePropName:"isopen"===e.dataIndex?"checked":"value",initialValue:t})(e.formComponent))});return r.a.createElement(x.a,{visible:t,title:"Ticket properties",onCancel:n,onOk:a},r.a.createElement(g.a,null,s))}}]),t}(r.a.Component)),R=n(128),j=function(e){return f.filter(function(e){return!e.visible}).map(function(t){return r.a.createElement("div",{key:t.dataIndex},r.a.createElement("b",null,t.title,":")," ",e[t.dataIndex])})},M=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isModalOpen:!1,modalRecord:{}},n.showModal=function(e){n.setState({isModalOpen:!0,modalRecord:e})},n.handleModalCancel=function(){n.setState({isModalOpen:!1})},n.handleModalOk=function(){var e=n.formRef.props.form;e.validateFields(function(t,a){t||(console.log("Received values of form: ",a),e.resetFields(),n.setState({isModalOpen:!1}))})},n.saveFormRef=function(e){n.formRef=e},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;console.info("TableTicketsAdmin render");var t=Object(y.a)(h).concat([{title:"Action",dataIndex:"action",render:function(t,n){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{shape:"circle",icon:"edit",title:"edit",onClick:function(){return e.showModal(n)}}),"\xa0",r.a.createElement(O.a,{title:"Sure to cancel?",onConfirm:function(){return console.log(n.key)}},r.a.createElement(k.a,{shape:"circle",icon:"delete",title:"delete"})))}}]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{type:"primary",onClick:function(){return e.showModal(null)}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c"),r.a.createElement(C,{wrappedComponentRef:this.saveFormRef,visible:this.state.isModalOpen,onCancel:this.handleModalCancel,onOk:this.handleModalOk,record:this.state.modalRecord}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(m.a,{columns:t,dataSource:R,expandedRowRender:j,pagination:!1,size:"middle",rowClassName:function(e,t){return e.isopen?"ticket-opened":"ticket-closed"}}))}}]),t}(r.a.Component),F=n(341),S=n(338),V=n(330),A=n(10),N=n(161),q=n.n(N),T=n(339),z=n(333),B=n(342),H=n(340),P=n(343),D=function(e,t){return t.some(function(t){return e.roles.includes(t)})},J={roles:["admin"],rights:["can_view_articles"]},W=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={user:J},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state.user;return r.a.createElement(F.a,{locale:q.a},r.a.createElement(T.a,null,r.a.createElement(S.a,null,r.a.createElement(S.a.Header,null,r.a.createElement("div",{className:"h-logo"},"IVR"),r.a.createElement(V.a,{mode:"horizontal",theme:"dark",style:{lineHeight:"64px"}},r.a.createElement(V.a.Item,null,r.a.createElement(z.a,{to:"/"},"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0437\u0430\u043f\u0438\u0441\u0435\u0439")),D(t,["admin"])&&r.a.createElement(V.a.Item,null,r.a.createElement(z.a,{to:"admin"},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435"))),r.a.createElement("div",{className:"h-user"},r.a.createElement(A.a,{type:t.roles.includes("admin")?"logout":"login",title:t.roles.includes("admin")?"logout":"login",onClick:function(){return e.setState(function(e){return{user:{roles:e.user.roles.includes("admin")?["user"]:["admin"]}}})}}))),r.a.createElement(S.a.Content,{style:{padding:"0 50px"}},r.a.createElement("div",{style:{background:"#fff",padding:24,minHeight:"calc(100vh - 64px - 68px)"}},r.a.createElement(B.a,null,r.a.createElement(H.a,{exact:!0,from:"/",to:"/IVR/"}),r.a.createElement(P.a,{exact:!0,path:"/IVR",component:E}),D(t,["admin"])&&r.a.createElement(P.a,{exact:!0,path:"/IVR/admin",component:M}),r.a.createElement(P.a,{component:function(){return r.a.createElement("div",null,"404. Page Not Found")}})))),r.a.createElement(S.a.Footer,{style:{textAlign:"center"}},"IVR Management \xa9"))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[165,2,1]]]);
//# sourceMappingURL=main.10af630f.chunk.js.map